(function(){"use strict";var e=this;define("socket",[],function(){return console.log("@socket-node: test"),{}})}).call(this),function(){"use strict";var e=this;define("http-lib",["socket"],function(){return console.log("@http-lib: test"),{}})}.call(this),function(){"use strict";var e=this;define("storage",[],function(){return console.log("@storage-node: test"),{}})}.call(this),function(){"use strict";var e=this;define("parser",[],function(){return console.log("@parser: test"),{}})}.call(this),function(){"use strict";var e=this;define("client",["jquery","underscore","http-lib","storage","parser","encoding"],function(e,t,n,r,i,s){function a(e,t){return"http://"+e+t}function f(e,t){return"/dat/"+t+".dat"}var o=function(){this.HTTP_REQ_HEADERS_DEFAULT={"User-Agent":"Monazilla/1.00"}};o.prototype={};var u=t(o.prototype);return u.extend({getThreadList:function(r,i,s){var o=a(r,"/"+i+"/subject.txt");n.get(o,t(this.HTTP_REQ_HEADERS_DEFAULT).extend({Host:r})).done(s)}}),u.extend({getSettingText:function(r,i,s){var o=a(r,"/"+i+"/SETTING.TXT");n.get(o,t(this.HTTP_REQ_HEADERS_DEFAULT).extend({Host:r}))}}),u.extend({getResponsesFromThread:function(r,i,s,o){var u=a(r,"/"+i+f(r,s));n.get(u,t(this.HTTP_REQ_HEADERS_DEFAULT).extend({Host:r}))}}),u.extend({putResponseToThread:function(s,o,u,f,l){function p(i){function s(t){var n=[];typeof t.headers["Set-Cookie"]!="undefined"&&n.push(a(t.headers["Set-Cookie"])),e.when.apply(null,n).done(function(){i(t)})}function a(n,i){function s(){return t(n.split(";")).each(function(){var n=SplitString(set_cookie,"="),r=e.trim(n[0]),i=e.trim(n[1]);if(r==="expires"||r==="path")return;var s={};s[r]=i,t(o).extend(s)}),typeof o["HAP"]=="undefined"&&(o.HAP=""),r.set({cookies:o})}var o={};return Array.isArray(n)?e.when.apply(null,t(n).map(a)):e.when.apply(null,[r.get("cookies").done(function(e){t(o).extend(e.cookies)})]).done(s)}var l=t(f).clone();l=t(l).map(function(e){return ConvertToSJIS(e)});var p=t(l).clone(),d=t(t.keys(p)).map(function(e){return EscapeSJIS(p[e]).done(function(t){p[e]=t})});e.when.apply(null,d).done(function(){n.put(c,h,{bbs:o,key:u,time:1,submit:ConvertToSJIS("上記全てを承諾して書き込む"),FROM:p.name,mail:p.mail,MESSAGE:p.body,yuki:"akari"}).done(s)})}function d(e){var n=t.keys(e),r=t(n).map(function(t){return t+"="+e[t]});return r.join("; ")}var c=a(s,"/test/bbs.cgi?guid=ON"),h=t(this.HTTP_REQ_HEADERS_DEFAULT).extend({Host:s,Referer:a(s,"/"+o+"/")});e.when.apply(null,[r.get("cookies").done(function(e){typeof e.cookies!="undefined"&&t(h).extend({Cookie:d(e.cookies)})})]).done(function(){p(l)})}}),new o})}.call(this),function(){"use strict";var e=this;console.log("@index-node.js: start"),requirejs.config({baseUrl:"./sources",paths:{client:"./client",socket:"./socket-node",storage:"./storage-node","http-lib":"./http-lib",parser:"./parser",logger:"./logger"}}),define(["client"],function(e){return e})}.call(this);